# slider - виджет для сайта, оформленный в JQuery плагин.

## Демо
https://sergeyvn94.github.io/slider/

## Установка
`git clone https://github.com/SergeyVN94/slider.git && cd slider && npm i && npm run-script build` - Установка и сборка.
 
`npm run-script test` - Запуск тестов с помощью KarmaJS и PhantomJS.  

## Подключение

Скоприруйте папку `plugin` из `dist` в корень вашего сайта. В `index.html` добавте следующие строки:  
```
<head>
  <link rel="stylesheet" href="plugin/slider.css">
</head>
<body>
  // контент страницы
  <script type="text/javascript" src="plugin/slider.js"></script>
</body>
```

# Архитектура приложения
#### Реализована архитектура MVP.  
![alt text](/docs/uml.png)  



## Доменная модель

Основной класс модели `Core` выполняет все функции перерасчета положений точек на сладере. Для абстрагирования от типа шкалы используется интерфейс `IScaleDriver`.
Объекты, которые реализуют этот интерфейс отвечают за определение максимального шага для шкалы, преобразования значения в шаг и шага в значение на шкале.  
Объект `Model` предосталяет методы для работы с моделью. Он отвечает за уведомление слушателей о событиях и контролирует доступ к `Core` в качастве заместителя.

## Представление

Основной класс `View` отвечает за:
1) уведомление о действиях пользователя
2) обновление компонентов при поступлении данных и ресайзе окна.
3) создание и инициализацию компонетнов
4) переадресацию комманд копонентам
5) отрисовку шкалы
  
Для управления событиями используется `Controller`. Этот класс слушает низкоуровневые события компонентов и преобразует их в события `select` и `resize`.

Компоненты:
1) `Slider` отвечает за изменение классов сладера, а так же предоставляет метод для рассчета позиции, в котору пользователь хочет установить значение. Сообщает о событии клика по сладеру.
2) `Point` перериовывает точку на линии сладера и сообщает о клике по ней.
3) `Tooltip` перериовывает тултип.
4) `BgLine` перерисовывает фоновую линию.

## Связь слоев
Класс `Presenter` выполняет роль посредника между `View` и `Model`. Т.к количество событий не велико от реализации обозревателя было решено отказаться.
Что бы не возникало путаницы в методах презентер работает только с частью функционала модели (`IModel`) и представления (`IView`).

## Фасад приложения 
`Slider` выполнен в виде класического фасада. Его задача адресовать команды в модель и представление. Их функциональность, как и в презентере, ограничена интерфейсами `IModelStateManager` для модели и `IViewConfigManager` для представления.  
